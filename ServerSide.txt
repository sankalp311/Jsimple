-- For obtain used columns
DECLARE @ColNames NVARCHAR(MAX) =''
SELECT  @ColNames = @ColNames + ', ' + QUOTENAME(ColNames) 
FROM MyTable UNPIVOT( V FOR ColNames IN ([col1],[col2],[col3],[col4],[col5],[col6],[frnkeyid1],[frnkeyid2])) UNPVT
GROUP BY QUOTENAME(ColNames)


DECLARE @query NVARCHAR(MAX) = 'SELECT ' + STUFF(@ColNames,1,1,'') + ' FROM MyTable'

EXEC (@query)
